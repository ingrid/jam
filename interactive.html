<html>
	<head>
		<title>jsGame interactive</title>
		<style>
			body{
				margin:0px;
			}
			div.left{
				position:absolute;
				top:0px;
				bottom:0px;
				background-color:#222;
				width: 530px;
				border-right:1px solid #000;
			}
			div.right{
				position:absolute;
				left:550px;
				top:0px;
				right:0px;
				bottom:0px;
				background-color:#ddd;
				border-left:1px solid #555;
			}
			div.leftbox{
				padding:10px;
				background-color:#444;
				width:462px;
				margin-left:20px;
				margin-bottom:10px;
				font-size:12pt;
				color:#eee;
			}
			textarea{
				width: 460px;
				height: 400px;
				background-color:#000;
				color:#fff;
				font-family: "Monaco", monospace;
				outline: none;
				padding:3px;
				margin-bottom:6px;
			}
			span.doc{
				font-size:10pt;
				position:relative;
			}
			span.doc span{ display:none; }
			span.doc:hover span {
				display:block;
				position:absolute;
				background-color:#888888;
				border:1px solid #aaa;
				color:#ffffff;
				top:14px; left: 6px;
				z-index:10;
				width: 100px;
				padding:1px 2px 1px 2px;
			}
			span.function{
				color:#ddccff;
				background-color:#442277;
			}
			span.property{
				background-color:#774422;
				color:#ffddcc;
			}
			span.constructor{
				background-color:#669922;
				color:#ffffcc;
			}
			span.module{
				background-color:#888;
				color:#fff;
			}
			iframe{
				border:none;
				background-color:#ddd;
				width:100%;
				display:block;
				height:100%;
			}
		</style>
	<script language="javascript" src="jsGame/jsGame.js?1"></script>
	<script language="javascript">
		window.onload = function(){
			var canvasFrame = document.getElementById("right");
			var evalButton = document.getElementById("eval");
			var codeText = document.getElementById("code");
			evalButton.onclick = function(){	
				canvasFrame.innerHTML = "";
				var newFrame = document.createElement("iframe");
				canvasFrame.appendChild(newFrame);
				newFrame.contentWindow.document.write("<html><head><style>canvas{outline:10px solid #bbb;border:1px solid black;margin:30px auto 0px auto;display:block}</style><body></body><script language=\"javascript\" \
					src=\"jsGame/jsGame.js\"><\/script><script>" + codeText.value + "<\/script></html>");
			}
			codeText.onkeypress = function(){
				if(event.shiftKey && event.which == 13){	
					evalButton.onclick();
					return false;
				}
			}
			evalButton.onclick();
			
			var funcbox = document.getElementById("funcbox");
			for(var i in jsGame)
			{
				if(jsGame[i].doc !== undefined)
				{
					funcbox.innerHTML += "jsGame." + i + ". ";
					var mod = jsGame[i];
					for(var k in mod.doc){
						if(mod.doc[k].module !== undefined) { funcbox.innerHTML += "<span class='doc module'>+<span>from module jsGame."+mod.doc[k].module+"</span></span>"; }
						var otherdoc = "";
						if(mod.doc[k].params !== undefined) { otherdoc += "(" + mod.doc[k].params+") " };
						if(mod.doc[k].desc !== undefined) { otherdoc += "'"+mod.doc[k].desc+"' " };
						if(otherdoc === ""){
							funcbox.innerHTML += "<span class='doc " + mod.doc[k].type + "'>" + k + "</span> "
						}
						else{
							funcbox.innerHTML += "<span class='doc " + mod.doc[k].type + "'>" + k + "<span>"+otherdoc+"</span></span> "
						}
					}
					funcbox.innerHTML += "<br/>";
				}
			}
		};
	</script>
</head>
<body>
	<div class="side left" style="padding:10px">
		<div class="leftbox">
			<textarea id="code">var game = jsGame.Game(400, 300);
game.setBGColor(255,255,255);

// Your code here

game.run();
</textarea><br/>
			<input type="button" value="evaluate" id="eval" style="margin:auto"/>
			<span style="color:#aaa;font-style:italic;font-size:10pt;"> or press shift + enter to re-evaluate</span>
		</div>
		<div class="leftbox" id="funcbox">
		</div>
	</div>
	<div class="side right">
		<div style="position:relative" id="right">
		</div>
	</div>
	<div style="clear:both"></div>
</body>
</html>
